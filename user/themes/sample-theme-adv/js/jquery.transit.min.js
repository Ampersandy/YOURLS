/*!
 * jQuery Transit - CSS3 transitions and transformations
 * (c) 2011-2012 Rico Sta. Cruz <rico@ricostacruz.com>
 * MIT Licensed.
 *
 * http://ricostacruz.com/jquery.transit
 * http://github.com/rstacruz/jquery.transit
 */(function(n){function o(n){var i,f,t,r;if(n in u.style||(i=["Moz","Webkit","O","ms"],f=n.charAt(0).toUpperCase()+n.substr(1),n in u.style))return n;for(t=0;t<i.length;++t)if(r=i[t]+f,r in u.style)return r}function y(){return u.style[t.transform]="",u.style[t.transform]="rotateY(90deg)",u.style[t.transform]!==""}function e(n){return typeof n=="string"&&this.parse(n),this}function a(n,t,i){t===!0?n.queue(i):t?n.queue(t,i):i()}function p(t){var i=[];return n.each(t,function(t){t=n.camelCase(t);t=n.transit.propertyMap[t]||n.cssProps[t]||t;t=w(t);n.inArray(t,i)===-1&&i.push(t)}),i}function v(t,i,r,u){var o=p(t),f,e;return n.cssEase[r]&&(r=n.cssEase[r]),f=""+h(i)+" "+r,parseInt(u,10)>0&&(f+=" "+h(u)),e=[],n.each(o,function(n,t){e.push(t+" "+f)}),e.join(", ")}function i(i,r){r||(n.cssNumber[i]=!0);n.transit.propertyMap[i]=t.transform;n.cssHooks[i]={get:function(t){var r=n(t).css("transit:transform");return r.get(i)},set:function(t,r){var u=n(t).css("transit:transform");u.setFromString(i,r);n(t).css({"transit:transform":u})}}}function w(n){return n.replace(/([A-Z])/g,function(n){return"-"+n.toLowerCase()})}function r(n,t){return typeof n!="string"||n.match(/^[\-0-9\.]+$/)?""+n+t:n}function h(t){var i=t;return typeof i=="string"&&(i=n.fx.speeds[i]||n.fx.speeds._default),r(i,"ms")}var u,t,c,l,s,f;n.transit={version:"0.9.9",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:!0,useTransitionEnd:!1};u=document.createElement("div");t={};c=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;t.transition=o("transition");t.transitionDelay=o("transitionDelay");t.transform=o("transform");t.transformOrigin=o("transformOrigin");t.transform3d=y();l={transition:"transitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"};s=t.transitionEnd=l[t.transition]||null;for(f in t)t.hasOwnProperty(f)&&typeof n.support[f]=="undefined"&&(n.support[f]=t[f]);u=null;n.cssEase={_default:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"};n.cssHooks["transit:transform"]={get:function(t){return n(t).data("transform")||new e},set:function(i,r){var u=r;u instanceof e||(u=new e(u));i.style[t.transform]=t.transform!=="WebkitTransform"||c?u.toString():u.toString(!0);n(i).data("transform",u)}};n.cssHooks.transform={set:n.cssHooks["transit:transform"].set};n.fn.jquery<"1.8"&&(n.cssHooks.transformOrigin={get:function(n){return n.style[t.transformOrigin]},set:function(n,i){n.style[t.transformOrigin]=i}},n.cssHooks.transition={get:function(n){return n.style[t.transition]},set:function(n,i){n.style[t.transition]=i}});i("scale");i("translate");i("rotate");i("rotateX");i("rotateY");i("rotate3d");i("perspective");i("skewX");i("skewY");i("x",!0);i("y",!0);e.prototype={setFromString:function(n,t){var i=typeof t=="string"?t.split(","):t.constructor===Array?t:[t];i.unshift(n);e.prototype.set.apply(this,i)},set:function(n){var t=Array.prototype.slice.apply(arguments,[1]);this.setter[n]?this.setter[n].apply(this,t):this[n]=t.join(",")},get:function(n){return this.getter[n]?this.getter[n].apply(this):this[n]||0},setter:{rotate:function(n){this.rotate=r(n,"deg")},rotateX:function(n){this.rotateX=r(n,"deg")},rotateY:function(n){this.rotateY=r(n,"deg")},scale:function(n,t){t===undefined&&(t=n);this.scale=n+","+t},skewX:function(n){this.skewX=r(n,"deg")},skewY:function(n){this.skewY=r(n,"deg")},perspective:function(n){this.perspective=r(n,"px")},x:function(n){this.set("translate",n,null)},y:function(n){this.set("translate",null,n)},translate:function(n,t){this._translateX===undefined&&(this._translateX=0);this._translateY===undefined&&(this._translateY=0);n!==null&&n!==undefined&&(this._translateX=r(n,"px"));t!==null&&t!==undefined&&(this._translateY=r(t,"px"));this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var n=(this.scale||"1,1").split(",");return n[0]&&(n[0]=parseFloat(n[0])),n[1]&&(n[1]=parseFloat(n[1])),n[0]===n[1]?n[0]:n},rotate3d:function(){for(var n=(this.rotate3d||"0,0,0,0deg").split(","),t=0;t<=3;++t)n[t]&&(n[t]=parseFloat(n[t]));return n[3]&&(n[3]=r(n[3],"deg")),n}},parse:function(n){var t=this;n.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(n,i,r){t.setFromString(i,r)})},toString:function(n){var r=[];for(var i in this)if(this.hasOwnProperty(i)){if(!t.transform3d&&(i==="rotateX"||i==="rotateY"||i==="perspective"||i==="transformOrigin"))continue;i[0]!=="_"&&(n&&i==="scale"?r.push(i+"3d("+this[i]+",1)"):n&&i==="translate"?r.push(i+"3d("+this[i]+",0)"):r.push(i+"("+this[i]+")"))}return r.join(" ")}};n.fn.transition=n.fn.transit=function(i,r,u,f){var e=this,c=0,l=!0,y;typeof r=="function"&&(f=r,r=undefined);typeof r=="object"&&(u=r.easing,c=r.delay||0,l=r.queue||!0,f=r.complete,r=r.duration);typeof u=="function"&&(f=u,u=undefined);typeof i.easing!="undefined"&&(u=i.easing,delete i.easing);typeof i.duration!="undefined"&&(r=i.duration,delete i.duration);typeof i.complete!="undefined"&&(f=i.complete,delete i.complete);typeof i.queue!="undefined"&&(l=i.queue,delete i.queue);typeof i.delay!="undefined"&&(c=i.delay,delete i.delay);typeof r=="undefined"&&(r=n.fx.speeds._default);typeof u=="undefined"&&(u=n.cssEase._default);r=h(r);var p=v(i,r,u,c),w=n.transit.enabled&&t.transition,o=w?parseInt(r,10)+parseInt(c,10):0;if(o===0)return y=function(n){e.css(i);f&&f.apply(e);n&&n()},a(e,l,y),e;var b={},k=function(r){var h=!1,u=function(){h&&e.unbind(s,u);o>0&&e.each(function(){this.style[t.transition]=b[this]||null});typeof f=="function"&&f.apply(e);typeof r=="function"&&r()};o>0&&s&&n.transit.useTransitionEnd?(h=!0,e.bind(s,u)):window.setTimeout(u,o);e.each(function(){o>0&&(this.style[t.transition]=p);n(this).css(i)})},d=function(n){this.offsetWidth;k(n)};return a(e,l,d),this};n.transit.getTransitionValue=v})(jQuery);